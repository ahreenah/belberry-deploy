import H from"./BvaZUrke.js";import{i as Z,b as X,f as Y,h as ee,o as _,g as te,A as E,k as ae,m as g,s as ne,l as le,a as O,d as j,O as oe,p as se,n as re,q as U,u as ue,e as m,v as ie,N as K,_ as ce}from"./Ch-JJhIz.js";import{_ as q}from"./BRDBclwI.js";import{k as z,j as w,r as k,g as R,y as B,i as de,l as pe,m as fe,z as T,q as ve,L as A,o as x,w as P,G as W,d as F,c as N,M as Q,t as D,K as M,b,O as me,F as _e,a as y,I as be}from"./CCDR8tGD.js";import{_ as C}from"./DlAUqK2U.js";function he({container:a,accept:l,walk:p,enabled:c}){z(()=>{let v=a.value;if(!v||c!==void 0&&!c.value)return;let d=Z(a);if(!d)return;let e=Object.assign(r=>l(r),{acceptNode:l}),o=d.createTreeWalker(v,NodeFilter.SHOW_ELEMENT,e,!1);for(;o.nextNode();)p(o.currentNode)})}var ge=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(ge||{}),Ie=(a=>(a[a.Pointer=0]="Pointer",a[a.Other=1]="Other",a))(Ie||{});function ke(a){requestAnimationFrame(()=>requestAnimationFrame(a))}let G=Symbol("MenuContext");function L(a){let l=de(G,null);if(l===null){let p=new Error(`<${a} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(p,L),p}return l}let Se=w({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(a,{slots:l,attrs:p}){let c=k(1),v=k(null),d=k(null),e=k([]),o=k(""),r=k(null),I=k(1);function S(t=s=>s){let s=r.value!==null?e.value[r.value]:null,n=oe(t(e.value.slice()),h=>_(h.dataRef.domRef)),i=s?n.indexOf(s):null;return i===-1&&(i=null),{items:n,activeItemIndex:i}}let u={menuState:c,buttonRef:v,itemsRef:d,items:e,searchQuery:o,activeItemIndex:r,activationTrigger:I,closeMenu:()=>{c.value=1,r.value=null},openMenu:()=>c.value=0,goToItem(t,s,n){let i=S(),h=ae(t===g.Specific?{focus:g.Specific,id:s}:{focus:t},{resolveItems:()=>i.items,resolveActiveIndex:()=>i.activeItemIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.disabled});o.value="",r.value=h,I.value=n??1,e.value=i.items},search(t){let s=o.value!==""?0:1;o.value+=t.toLowerCase();let n=(r.value!==null?e.value.slice(r.value+s).concat(e.value.slice(0,r.value+s)):e.value).find(h=>h.dataRef.textValue.startsWith(o.value)&&!h.dataRef.disabled),i=n?e.value.indexOf(n):-1;i===-1||i===r.value||(r.value=i,I.value=1)},clearSearch(){o.value=""},registerItem(t,s){let n=S(i=>[...i,{id:t,dataRef:s}]);e.value=n.items,r.value=n.activeItemIndex,I.value=1},unregisterItem(t){let s=S(n=>{let i=n.findIndex(h=>h.id===t);return i!==-1&&n.splice(i,1),n});e.value=s.items,r.value=s.activeItemIndex,I.value=1}};return X([v,d],(t,s)=>{var n;u.closeMenu(),Y(s,ee.Loose)||(t.preventDefault(),(n=_(v))==null||n.focus())},R(()=>c.value===0)),ve(G,u),te(R(()=>ue(c.value,{0:O.Open,1:O.Closed}))),()=>{let t={open:c.value===0,close:u.closeMenu};return E({ourProps:{},theirProps:a,slot:t,slots:l,attrs:p,name:"Menu"})}}}),ye=w({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(a,{attrs:l,slots:p,expose:c}){var v;let d=(v=a.id)!=null?v:`headlessui-menu-button-${B()}`,e=L("MenuButton");c({el:e.buttonRef,$el:e.buttonRef});function o(u){switch(u.key){case m.Space:case m.Enter:case m.ArrowDown:u.preventDefault(),u.stopPropagation(),e.openMenu(),T(()=>{var t;(t=_(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(g.First)});break;case m.ArrowUp:u.preventDefault(),u.stopPropagation(),e.openMenu(),T(()=>{var t;(t=_(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(g.Last)});break}}function r(u){switch(u.key){case m.Space:u.preventDefault();break}}function I(u){a.disabled||(e.menuState.value===0?(e.closeMenu(),T(()=>{var t;return(t=_(e.buttonRef))==null?void 0:t.focus({preventScroll:!0})})):(u.preventDefault(),e.openMenu(),ke(()=>{var t;return(t=_(e.itemsRef))==null?void 0:t.focus({preventScroll:!0})})))}let S=ne(R(()=>({as:a.as,type:l.type})),e.buttonRef);return()=>{var u;let t={open:e.menuState.value===0},{...s}=a,n={ref:e.buttonRef,id:d,type:S.value,"aria-haspopup":"menu","aria-controls":(u=_(e.itemsRef))==null?void 0:u.id,"aria-expanded":e.menuState.value===0,onKeydown:o,onKeyup:r,onClick:I};return E({ourProps:n,theirProps:s,slot:t,attrs:l,slots:p,name:"MenuButton"})}}}),xe=w({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(a,{attrs:l,slots:p,expose:c}){var v;let d=(v=a.id)!=null?v:`headlessui-menu-items-${B()}`,e=L("MenuItems"),o=k(null);c({el:e.itemsRef,$el:e.itemsRef}),he({container:R(()=>_(e.itemsRef)),enabled:R(()=>e.menuState.value===0),accept(t){return t.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute("role","none")}});function r(t){var s;switch(o.value&&clearTimeout(o.value),t.key){case m.Space:if(e.searchQuery.value!=="")return t.preventDefault(),t.stopPropagation(),e.search(t.key);case m.Enter:if(t.preventDefault(),t.stopPropagation(),e.activeItemIndex.value!==null){let n=e.items.value[e.activeItemIndex.value];(s=_(n.dataRef.domRef))==null||s.click()}e.closeMenu(),U(_(e.buttonRef));break;case m.ArrowDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(g.Next);case m.ArrowUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(g.Previous);case m.Home:case m.PageUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(g.First);case m.End:case m.PageDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(g.Last);case m.Escape:t.preventDefault(),t.stopPropagation(),e.closeMenu(),T(()=>{var n;return(n=_(e.buttonRef))==null?void 0:n.focus({preventScroll:!0})});break;case m.Tab:t.preventDefault(),t.stopPropagation(),e.closeMenu(),T(()=>ie(_(e.buttonRef),t.shiftKey?K.Previous:K.Next));break;default:t.key.length===1&&(e.search(t.key),o.value=setTimeout(()=>e.clearSearch(),350));break}}function I(t){switch(t.key){case m.Space:t.preventDefault();break}}let S=le(),u=R(()=>S!==null?(S.value&O.Open)===O.Open:e.menuState.value===0);return()=>{var t,s;let n={open:e.menuState.value===0},{...i}=a,h={"aria-activedescendant":e.activeItemIndex.value===null||(t=e.items.value[e.activeItemIndex.value])==null?void 0:t.id,"aria-labelledby":(s=_(e.buttonRef))==null?void 0:s.id,id:d,onKeydown:r,onKeyup:I,role:"menu",tabIndex:0,ref:e.itemsRef};return E({ourProps:h,theirProps:i,slot:n,attrs:l,slots:p,features:j.RenderStrategy|j.Static,visible:u.value,name:"MenuItems"})}}}),Me=w({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(a,{slots:l,attrs:p,expose:c}){var v;let d=(v=a.id)!=null?v:`headlessui-menu-item-${B()}`,e=L("MenuItem"),o=k(null);c({el:o,$el:o});let r=R(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===d:!1),I=se(o),S=R(()=>({disabled:a.disabled,get textValue(){return I()},domRef:o}));pe(()=>e.registerItem(d,S)),fe(()=>e.unregisterItem(d)),z(()=>{e.menuState.value===0&&r.value&&e.activationTrigger.value!==0&&T(()=>{var f,$;return($=(f=_(o))==null?void 0:f.scrollIntoView)==null?void 0:$.call(f,{block:"nearest"})})});function u(f){if(a.disabled)return f.preventDefault();e.closeMenu(),U(_(e.buttonRef))}function t(){if(a.disabled)return e.goToItem(g.Nothing);e.goToItem(g.Specific,d)}let s=re();function n(f){s.update(f)}function i(f){s.wasMoved(f)&&(a.disabled||r.value||e.goToItem(g.Specific,d,0))}function h(f){s.wasMoved(f)&&(a.disabled||r.value&&e.goToItem(g.Nothing))}return()=>{let{disabled:f,...$}=a,J={active:r.value,disabled:f,close:e.closeMenu};return E({ourProps:{id:d,ref:o,role:"menuitem",tabIndex:f===!0?void 0:-1,"aria-disabled":f===!0?!0:void 0,onClick:u,onFocus:t,onPointerenter:n,onMouseenter:n,onPointermove:i,onMousemove:i,onPointerleave:h,onMouseleave:h},theirProps:{...p,...$},slot:J,attrs:p,slots:l,name:"MenuItem"})}}});const Re={key:0,class:"notifications"},we=w({__name:"Link",props:{title:{},href:{},variant:{default:"light"},notifications:{}},setup(a){return(l,p)=>{const c=q;return x(),A(c,{href:l.href,class:W(["header-link",l.variant])},{default:P(()=>[F(D(l.title)+" ",1),l.notifications?(x(),N("span",Re,D(l.notifications),1)):Q("",!0)]),_:1},8,["href","class"])}}}),Pe=C(we,[["__scopeId","data-v-da32ecba"]]),Te={key:0,class:"notifications"},De=w({__name:"Dropdown",props:{title:{},href:{},variant:{default:"light"},notifications:{},items:{}},setup(a){return(l,p)=>{const c=H,v=q;return x(),A(M(Se),{class:"menu",as:"div"},{default:P(({open:d})=>[b(M(ye),{class:"header-link"},{default:P(()=>[F(D(l.title)+" ",1),l.notifications?(x(),N("span",Te,D(l.notifications),1)):Q("",!0),b(c,{name:"belberry:chevron-down",mode:"svg",size:"25px",class:W([{open:d},"menu-icon"])},null,8,["class"])]),_:2},1024),b(M(xe),{class:"items"},{default:P(()=>[(x(!0),N(_e,null,me(l.items,e=>(x(),A(M(Me),null,{default:P(()=>[b(v,{href:e.href,class:"menu-item-link"},{default:P(()=>[F(D(e.label),1)]),_:2},1032,["href"])]),_:2},1024))),256))]),_:1})]),_:1})}}}),V=C(De,[["__scopeId","data-v-739a98ee"]]),Ne={"aria-label":"Навигация",class:"header"},$e={class:"burger-menu-button"},Oe={class:"logo-wrapper"},Ee={role:"presentation",class:"links"},Ce={class:"blog"},Le=w({__name:"index",setup(a){const l=k([{label:"Разработка сайтов",href:"/"},{label:"Продвижение сайтов",href:"/"},{label:"Реклама",href:"/"}]),p=k([{label:"Наши соцсети",href:"/"},{label:"Наши проекты",href:"/"}]);return(c,v)=>{const d=H,e=ce,o=Pe;return x(),N("header",Ne,[y("button",$e,[b(d,{name:"belberry:burger",mode:"svg",size:"45px"})]),y("div",Oe,[b(e,{src:"/logo.png",class:"logo"})]),b(o,{href:"/",title:"Напишите нам",variant:"dark",class:"write-us"}),y("ul",Ee,[y("li",null,[b(o,{href:"/",title:"Проекты",notifications:18})]),y("li",null,[b(M(V),{href:"/",title:"Услуги",notifications:36,items:M(l)},null,8,["items"])]),y("li",null,[b(M(V),{href:"/",title:"Мы",items:M(p)},null,8,["items"])]),y("li",Ce,[b(o,{href:"/",title:"Блог",notifications:31})]),y("li",null,[b(o,{href:"/",title:"Контакты"})]),y("li",null,[b(o,{href:"/",title:"Cвязаться с нами",variant:"dark"})])])])}}}),Ae=C(Le,[["__scopeId","data-v-c046bcc0"]]),Fe={},Be={class:"layout"},je={class:"page-content"};function Ke(a,l){const p=Ae;return x(),N("div",Be,[b(p),y("main",je,[be(a.$slots,"default",{},void 0,!0)])])}const We=C(Fe,[["render",Ke],["__scopeId","data-v-bf6631a4"]]);export{We as default};
